<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="AI Trainer">
    <meta name="theme-color" content="#9C27B0">

    <title>ğŸ’œ AI Fitness Trainer</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">

    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app">
        <header>
            <h1>ğŸ’œ AI Trainer</h1>
            <button id="settings-btn">âš™ï¸</button>
        </header>

        <div id="settings" class="settings hidden">
            <div class="setting-group">
                <label for="ai-service">AI Service:</label>
                <select id="ai-service">
                    <option value="stub">Demo Mode (No API needed)</option>
                    <option value="glm">GLM AI (z.ai)</option>
                    <option value="openai">OpenAI GPT</option>
                    <option value="anthropic">Anthropic Claude</option>
                </select>
            </div>

            <div class="setting-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="use-stub" checked>
                    <span class="checkmark"></span>
                    Use Demo Mode
                </label>
            </div>

            <input type="text" id="api-url" placeholder="API URL" readonly>
            <input type="password" id="api-key" placeholder="API Key (required for real AI)">
            <input type="text" id="model" placeholder="Model" readonly>
            <button id="save-settings">Save Settings</button>

            <div class="api-help">
                <h4>ğŸ”‘ Getting API Keys:</h4>
                <ul>
                    <li><strong>GLM AI:</strong> Visit <a href="https://open.bigmodel.cn/"
                            target="_blank">open.bigmodel.cn</a></li>
                    <li><strong>OpenAI:</strong> Visit <a href="https://platform.openai.com/api-keys"
                            target="_blank">platform.openai.com</a></li>
                    <li><strong>Demo Mode:</strong> No API key needed!</li>
                </ul>
            </div>
            <!-- For debugging only -->
            <button onclick="window.aiApp.debugLastResponse()"
                style="background: #666; color: white; padding: 5px 10px; border: none; border-radius: 4px; margin: 5px;">
                ğŸ› Debug Last Response
            </button>
        </div>

        <div id="chat" class="chat">
            <div class="welcome-message">
                <h3>ğŸ’œ AI Fitness Trainer</h3>
                <p>Your personal AI coach powered by advanced AI models!</p>
                <p><strong>Demo mode is active</strong> - try asking about exercises!</p>
                <p>ğŸ’¡ <strong>Try:</strong> "chest workout", "beginner routine", "leg day exercises"</p>
                <p>ğŸ”§ Configure real AI in settings for personalized responses!</p>
            </div>
        </div>

        <div class="input-area">
            <input type="text" id="message-input" placeholder="Ask about workouts, exercises, or fitness tips...">
            <button id="send-btn">ğŸ’ª</button>
        </div>

        <div id="loading" class="loading hidden">ğŸ¤” Your AI trainer is thinking...</div>
    </div>

    <script src="app.js"></script>
</body>

</html>